<turbo-stream action="remove" target="<%= dom_id(@email) %>">
</turbo-stream>

<% if RailsMail::Email.count == 0 %>
  <turbo-stream action="update" target="email_content">
    <template>
      <%= render(partial: "rails_mail/emails/empty_state", formats: [ :html ]) %>
    </template>
  </turbo-stream>
<% elsif @email.id == @current_email_id.to_i%>
  <turbo-stream action="update" target="email_content">
    <template>
      <div class="" data-controller="redirect" data-redirect-url-value="<%= email_path(@email.next_email) %>">
        <div class="flex justify-center items-center min-h-screen">
          <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"></div>
        </div>
      </div>
    </template>
  </turbo-stream>

<% end %> 